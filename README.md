# eduNow
###### This is part of a larger platform intended for people studying web development. The purpose of this codebase is to build an environment where students and companies can search for each other and interact.

## Technologies
This app is built with the MEAN-stack (MongoDB, Express, AngularJS, Node.js). It uses Mongoose as an ODM for MongoDB and uses Angular-UI-router for routing in the app. User authentication handled by Passport and JsonWebToken.

## Starting the app
In all cases you will need to have these things installed on your computer:
Node.js
NPM
MongoDB
Since this app uses MongoDB, you will need to know the basics of how to run that.

##### For viewing purposes only
1. Fork the repository
2. Navigate to the root directory of the project in your command-line.
3. Type in "npm install --production". This will install dependencies.
4. Type in "npm start". This will start the express-server.
5. Navigate to "localhost:3000" in your browser.

##### For editing purposes
Follow steps 1 and 2 in previous instructions then:

1. Type in "npm install". This will install all dependencies, including devDependencies.
2. In one cli-window/tab type in "npm run dev", this will start the webpack-dev-server enabling automatic bundling of js- and scss-files in the app-folder on save. Also automatically updates in your browser.
3. In second cli-window/tab type in "npm start". This will start the express-server.
4. Navigate to "localhost:8080" in your browser.

##### Adding users
Without users this code does very little. So add some!
In the src-folder there is a file named "seed.js". This contains data for a number of students. To load these students in to your database you only need to do one thing. Before starting your server with "npm start". Open the "server.js" file located in the root directory and uncomment this line:
```javascript
// require('./src/seed');
```
As for adding some companys to the database you can do that manually in the register-view - "localhost:XXXX/register".

## Directory structure
```javascript
app/
----factories/
--------searches.js
--------users.js
----features/
--------feature.html
--------featureController.js
--------featureDirective.js
----styles/
--------main.scss
--------childrenToMain.scss
----config.js
----index.js
config/
----passport.js
public/
----img/
--------allImages.jpg
----stylesheets/
--------style.css
----templates/
--------nav.html
----bundle.js
----index.html
src/
----api/
--------index.js
--------users.js
----models/
--------users.js
----database.js
----seed.js
server.js
```
##### App directory
Contains the Angular-app, setup with Angular-UI-router, and the stylesheets written in SASS(scss-syntax).
The structure is feature based rather than type based.
Worth noting is that all files in this directory is being bundled by Webpack into the file "bundle.js".
* The "config.js"-file defines the app and its dependencies. Also contains the routing-system.
* "index.js" bootstraps the app.
* The factories subfolder contains two files. "users.js" is used for all things concerning user authentication and saving users in local-storage. "searches.js" is used for AJAX-requests to the database.
* Since the structure is feature based there is subfolders for every feature - for example the navigation or the code for user pages. This is loosely based around each UI-view, but not entirely. Some UI-views share a folder. These subfolders contains html-files, controllers, and angular-directives.
* The styles subfolder has a file named "main.scss". This file imports all other scsss-files in the folder. Scss is processed by Webpack.

##### Public directory
Contains the static "index.html"-file that always is in play. The stylesheets subfolder contains additional css not suitable for bundling. "bundle.js" is generated by Webpack and contains the angular-app and the processed scss.

##### Src directory
Contains setup for an express api that the angular-app communicates with. Also sets up the database.
* The api-subfolder contains two files. "users.js" is used for authentication. Logging in users and registering users. "index.js" is the main api that takes care of get, post, put and delete requests to the database.
* The models-subfolder contains the file "users.js" where a mongoose-schema is defined and a user-model is initiated.
* "database.js" connects to MongoDB.
* "seed.js" contains data that can be automatically inserted into the database.

##### Root directory
Contains weback configuration and "package.json". The file "server.js" sets up Express and starts the server.
